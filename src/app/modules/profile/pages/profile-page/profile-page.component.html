<div>
  <div *ngIf="showEditRow" class="sticky top-0 z-50 flex flex-row-reverse pb-4 px-4 lg:px-16 xl:px-32 2xl:px-64">
    <button mat-raised-button color="primary" [routerLink]="'edit'"><mat-icon>edit</mat-icon> Bearbeiten</button>
  </div>
  <div class="flex flex-col gap-10 items-center justify-center">
    <!-- Profile Information -->
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 px-4 lg:px-16 xl:px-32 2xl:px-64">
      <div class="col-span-1">
        <app-profile-avatar-card>
          <app-avatar-card-title>{{ profile.title }}</app-avatar-card-title>
          <app-avatar-card-subtitle>{{ profile.subtitle }}</app-avatar-card-subtitle>
          <img [src]="profile.avatarUrl" avatar alt="Avatar" onerror="this.src='/assets/images/blank-profile-picture.png'" />
        </app-profile-avatar-card>
        <app-social-media-button-row *ngIf="profile.socialMedia">
          <app-social-media-button
            [socialMedia]="'FACEBOOK'"
            [handle]="profile.socialMedia.facebook"
            *ngIf="profile.socialMedia.facebook"
          ></app-social-media-button>
          <app-social-media-button
            [socialMedia]="'TWITTER'"
            [handle]="profile.socialMedia.twitter"
            *ngIf="profile.socialMedia.twitter"
          ></app-social-media-button>
          <app-social-media-button
            [socialMedia]="'INSTAGRAM'"
            [handle]="profile.socialMedia.instagram"
            *ngIf="profile.socialMedia.instagram"
          ></app-social-media-button>
          <app-social-media-button
            [socialMedia]="'XING'"
            [handle]="profile.socialMedia.xing"
            *ngIf="profile.socialMedia.xing"
          ></app-social-media-button>
          <app-social-media-button
            [socialMedia]="'LINKEDIN'"
            [handle]="profile.socialMedia.linkedIn"
            *ngIf="profile.socialMedia.linkedIn"
          ></app-social-media-button>
        </app-social-media-button-row>
      </div>
      <div class="col-span-1 md:col-span-2 lg:col-span-3">
        <div class="flex flex-col gap-4">
          <app-profile-information-card *ngIf="profile.about">
            <app-profile-information-card-entry
              *ngFor="let about of profile.about"
              [linkable]="about.linkable"
              [value]="about.value"
              [title]="about.key"
            ></app-profile-information-card-entry>
          </app-profile-information-card>
        </div>
      </div>
      <div class="col-span-1 md:col-span-3 lg:col-span-4">
        <app-profile-focus-subjects [subjects]="profile.focusSubjects"></app-profile-focus-subjects>
      </div>
    </div>

    <!-- Shash / Vita -->
    <div *ngIf="sash && sash.text.trim().length > 0">
      <app-sash>
        <app-sash-title>{{ sash.title }}</app-sash-title>
        <app-sash-content [innerText]="sash.text"></app-sash-content>
      </app-sash>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 px-4 lg:px-16 xl:px-32 2xl:px-64 w-full">
      <div class="col-span-1 lg:col-span-2" *ngIf="publications && publications.length > 0">
        <app-profile-publications-card [publications]="publications"></app-profile-publications-card>
      </div>
      <div class="col-span-1">
        <app-profile-projects-card [projects]="availableProjects"></app-profile-projects-card>
      </div>
      <div class="col-span-1">
        <app-profile-jobs-card [jobs]="availableJobs"> </app-profile-jobs-card>
      </div>
      <div class="lg:col-span-2">
        <app-profile-project-history *ngIf="projectHistory && projectHistory.length > 0">
          <app-profile-project-history-item *ngFor="let project of projectHistory" [project]="project"></app-profile-project-history-item>
        </app-profile-project-history>
      </div>
    </div>
  </div>
</div>
