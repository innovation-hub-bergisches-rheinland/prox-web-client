<mat-card>
  <form [formGroup]="jobOfferForm">
    <mat-card-header fxLayout="column" fxLayout="start stretch">
      <mat-form-field appearance="fill">
        <mat-label>Titel</mat-label>
        <input matInput [formControlName]="'title'" required />
        <mat-error *ngIf="jobOfferForm.controls.title.hasError('required')">Titel darf nicht leer sein</mat-error>
        <mat-error *ngIf="jobOfferForm.controls.title.hasError('minlength')">Titel muss mindestens 10 Zeichen beinhalten</mat-error>
        <mat-error *ngIf="jobOfferForm.controls.title.hasError('maxlength')">Titel darf nicht mehr als 255 Zeichen beinhalten</mat-error>
      </mat-form-field>
    </mat-card-header>
    <mat-card-content fxLayout="column" fxLayout="start stretch">
      <b
        >Das Beschreibungsfeld unterstützt <a href="https://commonmark.org/">CommonMark</a> Markdown Syntax. Eine Übersicht über die
        wichtigsten Bausteine finden Sie <a href="https://commonmark.org/help/">hier</a>.</b
      >
      <mat-form-field appearance="fill">
        <mat-label>Beschreibung</mat-label>
        <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="20" [formControlName]="'description'" required></textarea>
        <mat-error *ngIf="jobOfferForm.controls.description.hasError('required')">Beschreibung darf nicht leer sein</mat-error>
        <mat-error *ngIf="jobOfferForm.controls.description.hasError('minlength')"
          >Beschreibung muss mindestens 50 Zeichen beinhalten</mat-error
        >
        <mat-error *ngIf="jobOfferForm.controls.description.hasError('maxlength')"
          >Beschreibung darf nicht mehr als 50.000 Zeichen beinhalten</mat-error
        >
      </mat-form-field>
      <mat-form-field apperance="fill">
        <mat-label>Frühester Beschäftigungsbeginn</mat-label>
        <input matInput [matDatepicker]="picker" [formControlName]="'date'" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <mat-form-field apperance="fill">
        <mat-label>Beschäftigungsart</mat-label>
        <mat-select [formControlName]="'jobType'" multiple>
          <mat-option *ngFor="let type of this.allJobOfferTypes | async" [value]="type">
            {{ type.description }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field apperance="fill">
        <mat-label>Einstiegslevel</mat-label>
        <mat-select [formControlName]="'jobEntryLevel'" multiple>
          <mat-option *ngFor="let entryLevel of this.allJobOfferEntryLevels | async" [value]="entryLevel">
            {{ entryLevel.description }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-action-row>
      <div fxLayout="row" dir="rtl" fxFlex fxLayoutGap="10px">
        <button mat-raised-button color="primary" (click)="saveOrUpdate()" [disabled]="this.jobOfferForm.invalid">
          <mat-icon>save</mat-icon> Speichern
        </button>
      </div>
    </mat-action-row>
  </form>
</mat-card>
