<mat-card *ngIf="jobOffer">
  <mat-card-header class="flex flex-col">
    <mat-card-title>
      <b>{{ jobOffer.title }}</b>
    </mat-card-title>
    <mat-card-subtitle class="flex flex-col gap-4">
      <mat-card-subtitle>
        <a [href]="this.creatorLink$ | async"
          ><b>{{ this.creatorName$ | async }}</b></a
        >
      </mat-card-subtitle>
      <mat-card-subtitle> Inseriert am: {{ this.getFormattedDate(jobOffer.createdAt) }} </mat-card-subtitle>
    </mat-card-subtitle>
  </mat-card-header>

  <mat-divider></mat-divider>

  <mat-card-content>
    <div *ngIf="jobOffer.earliestStartOfEmployment">
      <mat-card-subtitle>Frühester Einstellungstermin</mat-card-subtitle>
      {{ this.getFormattedDate(jobOffer.earliestStartOfEmployment) }}
    </div>
    <div>
      <mat-card-subtitle>Stellenbeschreibung</mat-card-subtitle>
      <div markdown [data]="jobOffer.description"></div>
    </div>
    <div class="flex flex-row justify-between">
      <div class="basis-3/4">
        <mat-card-subtitle>Art der Beschäftigung</mat-card-subtitle>
        <ul>
          <li *ngFor="let type of this.availableTypesAsString$ | async">
            {{ type }}
          </li>
        </ul>
      </div>
      <div>
        <mat-card-subtitle>Einstiegslevel</mat-card-subtitle>
        <ul>
          <li *ngFor="let entryLevel of this.availableEntryLevelsAsString$ | async">
            {{ entryLevel }}
          </li>
        </ul>
      </div>
    </div>
  </mat-card-content>
  <mat-divider></mat-divider>
  <mat-card-actions class="flex flex-row justify-between items-center">
    <button mat-raised-button color="primary" class="project-button" routerLink="/jobs/{{ jobOffer.id }}" matTooltip="Details">
      Details
    </button>

    <div *ngIf="this.hasPermission$ | async" class="flex flex-row justify-start items-center gap-4">
      <button (click)="deleteJobOffer()" class="no-hover" id="delete-button" mat-icon-button color="warn">
        <mat-icon>delete_forever</mat-icon>
      </button>

      <button routerLink="/jobs/{{ jobOffer.id }}/edit" class="no-hover" id="edit-button" mat-icon-button>
        <mat-icon>edit</mat-icon>
      </button>
    </div>
  </mat-card-actions>
</mat-card>
