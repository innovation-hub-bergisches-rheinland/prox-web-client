<mat-card>
  <mat-card-header>
    <mat-card-title>
      <app-project-icons [context]="project.context" [status]="project.status"></app-project-icons>

      <b>{{ project.name }}</b>
    </mat-card-title>

    <!-- TODO: Resolve somehow the supervisors -->
    <!--<mat-card-subtitle *ngIf="isCompanyProject">
      <span class="companyName" matTooltip="Unternehmen">
        <b [innerHTML]="projectCompany"></b>
      </span>
    </mat-card-subtitle>

    <mat-card-subtitle>
      <span class="supervisorName" matTooltip="Projektbetreuer">
        <b [innerHTML]="getProjectSupervisors()"></b>
      </span>
    </mat-card-subtitle>-->
    <mat-card-subtitle>
      <span class="supervisorName" matTooltip="Projektbetreuer">
        <b [innerHTML]="project.supervisorName"></b>
      </span>
    </mat-card-subtitle>
  </mat-card-header>

  <mat-divider></mat-divider>

  <mat-card-content>
    <mat-card-subtitle>Kurze Projektbeschreibung:</mat-card-subtitle>

    <div>
      <p [innerHTML]="project.shortDescription | linky"></p>
    </div>

    <div class="card-container-wrapper">
      <div class="card-container">
        <mat-card-subtitle>Teilnahmevoraussetzungen:</mat-card-subtitle>

        <p *ngIf="!project.requirement">Keine Teilnahmevoraussetzungen</p>

        <p>{{ project.requirement }}</p>
      </div>

      <div class="card-container">
        <mat-card-subtitle>Projekttypen:</mat-card-subtitle>

        <p *ngFor="let module of modules">
          <b>({{ module.key }})</b> {{ module.name }}
        </p>
      </div>
    </div>

    <div class="card-container-wrapper">
      <div class="card-container">
        <mat-card-subtitle>Erstellt am:</mat-card-subtitle>
        <p>{{ project.createdAt | date: 'YYYY-MM-dd' }}</p>
      </div>
    </div>

    <mat-card-subtitle>
      <mat-chip-list *ngIf="tags">
        <mat-chip selected *ngFor="let tag of tags" matTooltip="{{ tag.tagName }}">
          {{ tag.tagName }}
        </mat-chip>
      </mat-chip-list>
    </mat-card-subtitle>
  </mat-card-content>

  <mat-divider></mat-divider>

  <mat-card-actions>
    <button
      mat-raised-button
      color="primary"
      class="project-button"
      routerLink="/projects/{{ project.id }}"
      matTooltip="WeiterfÃ¼hrende Projektdetails"
    >
      Projektdetails
    </button>

    <button (click)="onDeleteClick()" *ngIf="hasPermission" class="no-hover" id="project-remove-button" mat-icon-button color="warn">
      <mat-icon>delete_forever</mat-icon>
    </button>

    <button (click)="onEditClick()" *ngIf="hasPermission" class="no-hover" id="project-edit-button" mat-icon-button>
      <mat-icon>edit</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
